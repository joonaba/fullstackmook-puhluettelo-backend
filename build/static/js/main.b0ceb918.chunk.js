(this.webpackJsonppuhluetteloapp=this.webpackJsonppuhluetteloapp||[]).push([[0],{29:function(e,t,n){e.exports=n(56)},34:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(12),o=n.n(l),c=(n(34),n(7)),u=n(28),i=n(11),m=n.n(i),s=function(){return m.a.get("/api/persons").then((function(e){return e.data}))},d=function(e){return m.a.post("/api/persons",e).then((function(e){return e.data}))},h=function(e){return m.a.delete("/api/persons/"+e).then((function(e){return e.data}))},f=n(8),E=function(e){var t=Object(a.useState)(""),n=Object(c.a)(t,2),l=(n[0],n[1],Object(a.useState)("")),o=Object(c.a)(l,2);o[0],o[1];console.log(e);var i=e.person.name;e.person.number,e.person.id;return console.log({name:i}),r.a.createElement(u.a,{striped:!0,bordered:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Number"),r.a.createElement("th",null,"Delete"))),r.a.createElement("tbody",null,e.person.map((function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("th",null,t.name),r.a.createElement("th",null,t.number),r.a.createElement("th",null,r.a.createElement(f.a,{variant:"dark",onClick:function(){return e.deletePerson(t.id)}},"Delete")))}))))},p=n(6),b=function(e){return r.a.createElement(p.a,{onSubmit:e.addPerson},r.a.createElement(p.a.Group,{controlId:"formBasicName"},r.a.createElement(p.a.Label,null,"Name"),r.a.createElement(p.a.Control,{type:"name",placeholder:"Enter name",value:e.newName,onChange:e.handleNameChange})),r.a.createElement(p.a.Group,{controlId:"formBasicNumber"},r.a.createElement(p.a.Label,null,"Number"),r.a.createElement(p.a.Control,{type:"text",placeholder:"Enter number",value:e.newNumber,onChange:e.handleNumberChange})),r.a.createElement(f.a,{variant:"primary",type:"submit"},"Submit"))},g=n(17),v=function(e){return r.a.createElement("div",null,r.a.createElement(p.a,{inline:!0},r.a.createElement(g.a,{className:"mb-3"},r.a.createElement(p.a.Control,{placeholder:"Filter by name",value:e.newFilter,onChange:e.handleFilterChange}),r.a.createElement(g.a.Append,null,r.a.createElement(f.a,{variant:"light",onClick:function(){return e.setShowAll(!e.showAll)}},"Filter")))))},j=function(e){return r.a.createElement("div",null,r.a.createElement(f.a,{variant:"primary",onClick:function(){return e.getAllCountries()}},"Search countries"))},w=function(){return m.a.get("https://restcountries.eu/rest/v2/all").then((function(e){return e.data}))},O=(n(55),function(e){var t=e.message;return null===t?null:r.a.createElement("div",{className:"error"},t)}),C=n(14),N=function(){var e=Object(a.useState)([]),t=Object(c.a)(e,2),n=t[0],l=t[1],o=Object(a.useState)([]),u=Object(c.a)(o,2),i=u[0],m=u[1],f=Object(a.useState)(""),p=Object(c.a)(f,2),g=p[0],N=p[1],S=Object(a.useState)(""),k=Object(c.a)(S,2),y=k[0],A=k[1],F=Object(a.useState)(!0),P=Object(c.a)(F,2),B=P[0],D=P[1],I=Object(a.useState)(""),x=Object(c.a)(I,2),G=x[0],J=x[1],L=Object(a.useState)(null),T=Object(c.a)(L,2),W=T[0],M=T[1];Object(a.useEffect)((function(){console.log("effect"),s().then((function(e){console.log("promise fulfilled"),l(e)}))}),[]);var $=B?n:n.filter((function(e){return e.name===G}));return r.a.createElement("div",null,r.a.createElement(C.a,{bg:"dark",variant:"dark"},r.a.createElement(C.a.Brand,{href:"#"},"Phonebook"),r.a.createElement(v,{newFilter:G,handleFilterChange:function(e){J(e.target.value)},setShowAll:D,showAll:B})),r.a.createElement(O,{message:W}),r.a.createElement("div",{class:"container"},r.a.createElement("h2",null,"Add person"),r.a.createElement(b,{addPerson:function(e){e.preventDefault();var t={name:g,number:y};!0===n.map((function(e){return e.name})).includes(g)?alert("".concat(g," is already added to phonebook")):d(t).then((function(e){l(n.concat(e)),N(""),M("Added:'".concat(g,"' to the server")),setTimeout((function(){M(null)}),5e3)}))},newName:g,handleNameChange:function(e){N(e.target.value)},newNumber:y,handleNumberChange:function(e){A(e.target.value)}}),r.a.createElement("h3",null,"Numbers"),r.a.createElement(E,{person:$,deletePerson:function(e){console.log("t\xe4ss\xe4 id"+e),h(e),s().then((function(t){console.log("promise fulfilled"),l(t),M("Person with id:'".concat(e,"' is deleted")),setTimeout((function(){M(null)}),5e3)})).catch((function(e){}))}}),r.a.createElement("h4",null,"Countries"),r.a.createElement(j,{getAllCountries:function(){w().then((function(e){m(e)}))}}),r.a.createElement("ul",null,i.map((function(e){return r.a.createElement("li",{key:e.name},e.name)})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[29,1,2]]]);
//# sourceMappingURL=main.b0ceb918.chunk.js.map